# 1、深入理解Mysql索引底层数据结构与算法

## 一、Mysql索引的数据结构

### 1.1：数据结构可视化网站

[https://www.cs.usfca.edu/~galles/visualization/Algorithms.html](https://www.cs.usfca.edu/~galles/visualization/Algorithms.html)

### 1.2：Mysql 索引数据结构

索引是帮助Mysql 高效获取数据的 ==排好序==的==数据结构==。

#### 1.1.1：二叉树

==单边增长==。

#### 1.1.2：红黑树（平衡二叉树）

虽然改善了单边增长的问题，但是==树的高度不可控，查找效率慢==。

#### 1.1.3：Hash表

==对索引key的一次hash== 计算就可以定位出元素的存储位置；（索引 查找的是文件磁盘的地址）

很多的时候hash 的效率高于B+Tree 索引的效率。

语法介绍：仅能支持 “=” 或者 “in”，这种查找的方式，不支持范围的查询。

##### 1.1.4：Hash 冲突的处理方案

###### 1.1.1.1：扩展hash 法

==将哈希表的容量扩充为当前大小的2倍或更大值；==通过动态扩展Hash 表的方法来解决冲突，当冲突发生时，它将创建一个更大的Hash表，将数据重新分配到新的Hash槽中，并且丢弃旧的Hash槽，这种方式可以有效的解决Hash冲突，==但是频繁的重Hash操作，会对性能产生一定的影响。==

###### 1.1.1.2：链地址法 

==当多个键被哈希到同一个位置时，将它们存储在一个**链表**或其他数据结构中；==在哈希表的每个槽位上都维护一个链表，当多个键Hash到同一个槽位，可以将添加到链表中，这也是一种常见的解决冲突的方法，



